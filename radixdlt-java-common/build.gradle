/*
 * (C) Copyright 2020 Radix DLT Ltd
 *
 * Radix DLT Ltd licenses this file to you under the Apache License,
 * Version 2.0 (the 'License'); you may not use this file except in
 * compliance with the License.  You may obtain a copy of the
 * License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied.  See the License for the specific
 * language governing permissions and limitations under the License.
 */

apply plugin: 'java-library'

tasks.withType(GenerateModuleMetadata) {
    enabled = false
}

dependencyManagement {
    imports {
        // the Maven BOM which contains a coherent set of module versions
        // for Vaadin dependencies
        mavenBom ('software.amazon.awssdk:bom:2.16.3')
//        mavenBom ('software.amazon.awssdk:secretsmanager:2.16.3')
//                {
//                    exclude group: 'com.fasterxml.jackson.core', module: 'jackson-databind'
//                }
    }
}

dependencies {
    api 'org.apache.logging.log4j:log4j-api'
    api 'org.apache.logging.log4j:log4j-core'
    api 'org.reflections:reflections'
    api 'com.google.code.gson:gson'
    api 'org.bouncycastle:bcprov-jdk15to18'
    api 'org.bouncycastle:bcpkix-jdk15to18'
    api 'org.json:json'
    api 'com.github.radixdlt:jackson-databind'
    api 'com.fasterxml.jackson.core:jackson-core'
    api 'com.fasterxml.jackson.dataformat:jackson-dataformat-cbor'
    api 'com.fasterxml.jackson.datatype:jackson-datatype-json-org'
    api 'com.fasterxml.jackson.datatype:jackson-datatype-guava'
    api 'com.google.guava:guava'
    api 'com.github.bitcoinj:bitcoinj'
//    implementation platform('software.amazon.awssdk:bom:2.16.3')
    implementation('software.amazon.awssdk:secretsmanager:2.16.3')
            {
                exclude group: 'com.fasterxml.jackson.core', module: 'jackson-databind'
            }
    testImplementation 'org.objenesis:objenesis'
    testImplementation 'org.javassist:javassist'
    testImplementation 'net.bytebuddy:byte-buddy'
    testImplementation 'net.bytebuddy:byte-buddy-agent'
    testImplementation 'org.powermock:powermock-module-junit4'
    testImplementation 'org.powermock:powermock-api-mockito2'
    testImplementation 'nl.jqno.equalsverifier:equalsverifier'
    testImplementation 'org.assertj:assertj-core'
    testImplementation 'com.flipkart.zjsonpatch:zjsonpatch'
    testImplementation 'org.apache.logging.log4j:log4j-slf4j-impl'
}

jacocoTestReport {
    dependsOn test
    reports {
        xml.enabled true
        csv.enabled false
    }
}
